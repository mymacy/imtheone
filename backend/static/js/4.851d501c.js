(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{RDnb:function(t,a,e){"use strict";e.r(a);var c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-page",[e("div",{staticClass:"pageTitle bg1"},[e("h3",[t._v("Cameras")])]),e("div",{staticClass:"cardContainer bg1"},[e("div",{staticClass:"cardWrapper"},[e("camera")],1)])])},i=[];c._withStripped=!0;var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-card",{staticClass:"camCard",attrs:{inline:""}},[e("q-card-media",[e("img",{attrs:{src:t.imgUrl}})]),e("q-card-title",[t._v("\n        Haust√ºr\n        "),e("div",{staticClass:"row items-center",attrs:{slot:"right"},slot:"right"},[e("q-icon",{staticClass:"onlineIndic",class:{on:t.cam.watch},attrs:{name:"ion-eye"}})],1)]),e("q-card-main",[e("div",{staticClass:"infoTable"},[e("div",{staticClass:"leftTable"},[e("p",[t._v("Status:")]),e("p",[t._v("Uptime:")]),e("p",[t._v("Alarm:")])]),e("div",{staticClass:"rightTable"},[t.cam.record?e("p",[t._v("Recording")]):t.cam.watch?e("p",[t._v("Online")]):e("p",[t._v("Offline")]),e("p",[t._v(t._s(t.cam.uptime)+" hours")]),e("p",[t._v("Email, Whatsapp")])])]),e("p",{staticClass:"text-faded"},[t._v("Notice: The server side the recording has significantly better quality and higher fps.")]),e("q-card-separator"),e("p"),e("div",[e("div",{staticClass:"infoTable"},[e("div",{staticClass:"leftTable"},[e("p",[t._v("Watch:")]),e("p",[t._v("Live view:")]),e("p",[t._v("Record:")])]),e("div",{staticClass:"rightTable"},[e("p",[e("q-toggle",{attrs:{color:"secondary"},on:{input:function(a){t.watch_state(a)}},model:{value:t.cam.watch,callback:function(a){t.$set(t.cam,"watch",a)},expression:"cam.watch"}})],1),e("p",[e("q-toggle",{attrs:{color:"secondary"},on:{input:function(a){t.live_state(a)}},model:{value:t.cam.live,callback:function(a){t.$set(t.cam,"live",a)},expression:"cam.live"}})],1),e("p",[e("q-toggle",{attrs:{color:"red"},on:{input:function(a){t.record_state(a)}},model:{value:t.cam.record,callback:function(a){t.$set(t.cam,"record",a)},expression:"cam.record"}})],1)]),e("div",{staticClass:"column3"},[e("p",[t._v("Snapshot")])]),e("div",{staticClass:"column4"},[e("q-btn",{attrs:{color:"primary",round:"",icon:"ion-camera"}}),e("q-btn",{attrs:{color:"primary",round:"",icon:"ion-camera"},on:{click:t.get_status}}),e("q-btn",{attrs:{color:"primary",round:"",icon:"ion-camera"}})],1)])])],1)],1)},n=[];s._withStripped=!0;var r={data:function(){return{imgUrl:"https://cdn.pornpics.com/pics1/2018-04-10/514171_09big.jpg",liveInterval:null,watchInterval:null,cam:{watch:!1,live:!1,record:!1,uptime:"0"},myApi:"http://127.0.0.1:8000/api/"}},methods:{get_status:function(){var t=this;console.log("getting status");var a=this.myApi+"camera/status/",e={headers:{}};this.$axios.get(a,e).then(function(a){console.log(a.data),t.cam.watch=a.data["cam1"]["watch"],t.cam.record=a.data["cam1"]["record"],t.cam.uptime=a.data["cam1"]["uptime"]}).catch(function(a){t.cam.watch=!1,t.cam.record=!1,t.cam.uptime="ERROR",a.response&&console.log(a.response.data)})},watch_state:function(t){console.log("changing watch"),t||this.live_state(!1);var a=this.myApi+"camera/watch/",e={watch:t},c={headers:{}};this.$axios.post(a,e,c).then(function(t){console.log(t.data)}).catch(function(t){t.response&&console.log(t.response.data)})},live_state:function(t){if(t){this.cam.watch=!0,this.cam.live=!0;var a=this;this.liveInterval=setInterval(function(){a.get_frame()},1e3)}else this.cam.live=!1,clearInterval(this.liveInterval)},record_state:function(t){},get_frame:function(){var t="http://127.0.0.1:8000/api/camera/frame/";this.imgUrl=t+"?"+Date.now()},take_snapshot:function(){}},created:function(){this.get_status();var t=this;this.watchInterval=setInterval(function(){t.cam.watch&&(t.get_status(),t.get_frame())},5e3)}},o=r,l=(e("t0D8"),e("KHd+")),m=Object(l["a"])(o,s,n,!1,null,null,null),p=m.exports,u=e("4IOb"),d={components:{camera:p},methods:{openURL:u["L"]}},v=d,h=(e("exyi"),Object(l["a"])(v,c,i,!1,null,null,null));a["default"]=h.exports},Wb7u:function(t,a,e){},exyi:function(t,a,e){"use strict";var c=e("Wb7u"),i=e.n(c);i.a},ikQi:function(t,a,e){},t0D8:function(t,a,e){"use strict";var c=e("ikQi"),i=e.n(c);i.a}}]);